{%extends 'base.html'%}
{%load static%}
{% load i18n %}
{%block title%}
{% trans "Detailed information" %}
{%endblock title%}




{%block link%} 

<link rel="stylesheet" href="{%static 'css/profile.css'%}" />
<link rel="stylesheet" href="{%static 'css/detail.css'%}" />

{%endblock link%}


{%block header%}
    <h1>{% trans "Detailed information" %}</h1>
    <br>
    <p>{% trans "Here you can see full information about the product or service." %}</p>
{%endblock header%}
{%block content%}
<div class = "info">
    <div class="info__item">
            <img class ="info__img" src="{{prod.picture.url}}" alt="Avatar" >
    </div>
    <div class="info__item info__item__text">
        <h2 class="avatar-text bff">{% trans "Name:" %} {{prod.title}}</h2>
        <br>
        <h2 class="avatar-text-2">{% trans "Category:" %} {{prod.category_sub}}</h2>
        <br>
        <h4 class ="avatar-text-2">{% trans "Description:" %} {{prod.description}} </h4> 
        <br>
        <h4 class ="avatar-text-2">{% trans "Phone:" %} {{prod.phone}} </h4> 
        <br>
        <h4 class ="avatar-text-2">{% trans "Contact information:" %} {{prod.contact}} </h4> 
        <br>
        <h4 class ="avatar-text-2">{% trans "Owner:" %} {{prod.owner}} </h4> 
        <br>
        <h4 class ="ownf">{% trans "Price:" %} {{prod.price}} €</h4> 
        <br>
        <h4 class ="avatar-text-2">{{prod.created_date}} </h4> 
        <br>

    </div>
</div> 
<br>
{%if request.user == prod.owner%}
    <a href="{%url 'edit' prod.slug%}"><button class="btn-e w" type="submit" >{% trans "Edit product" %}</button></a>
    <br>
    <a href="{%url 'delete' prod.slug%}"><button class="btn-d w" id="myBtn" type="submit" >{% trans "Delete product" %}</button></a>
{%endif%}
<br><br><br><br>

{% if user.is_authenticated %}
<div class="centre-text">
    <form action="" method="POST" id="commentform" class="comment-form">
        {% csrf_token %}
        <p class="comment-notes">
           <span id="email-notes">{% trans "Your email address will not be published." %}</span>
           <span class="required-field-message" aria-hidden="true">{% trans "Required fields are marked" %}
              <span class="required" aria-hidden="true">*</span>
           </span>
        </p>
        <h1 class="avatar-text-2">Rate: </h1>
        <p class="comment-notes">
            <span id="email-notes">{% trans "the higher the number," %}</span>
            <span class="required-field-message" aria-hidden="true"> {% trans "the higher the rating of the product or servic." %}
               <span class="required" aria-hidden="true">*</span>
            </span>
         </p>
        {{ comment_form.rating }}

        <h1 class="avatar-text-2">{% trans "Text:" %} </h1>
        {{ comment_form.text }}
    
        <p class="form-submit">
            <button class="btn-e  w"  type="submit" >{% trans "Create comment" %}</button>
        </p>
     </form>
</div>
{%endif%}
<div class="lefft">
    {% trans "Reviews" %} - {{comments.total_comments}}

</div>
<br>
<br>
<hr>
<div class="centre-centre">
    <div class="content-2">

        <ul class="team">
            {%for r in page_obj%}
            
            <li class="member co-funder">
                <div class="thumb"><img class="img-2" src="{{r.author.profile.picture.url}}"></div>
                <div class="description">
                    <h3 class="h3-2">{{r.author}}</h3>
                    <div class="rating">
                        {% if r.rating == "1" %}
                        <div class="star-rating" role="img" aria-label="Rated 3 out of 5">
                            <a href="#1" title="Give 1 star">★</a>
                        </div>
                        {% elif r.rating == "2" %}
                        <div class="star-rating" role="img" aria-label="Rated 3 out of 5">
                            <a href="#1" title="Give 1 star">★★</a>
                        </div>
                            {% elif r.rating == "3" %}
                        <div class="star-rating" role="img" aria-label="Rated 3 out of 5">
                            <a href="#1" title="Give 1 star">★★★</a>
                        </div>
                        {% elif r.rating == "4" %}
                        <div class="star-rating" role="img" aria-label="Rated 3 out of 5">
                            <a href="#1" title="Give 1 star">★★★★</a>
                         </div>
                         {% elif r.rating == "5" %}
                        <div class="star-rating" role="img" aria-label="Rated 3 out of 5">
                            <a href="#1" title="Give 1 star">★★★★★</a>
                         </div>
                        {% endif %}
                        
                        </div>
                    <p class="p-2 biger">{{r.text}}.&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp
                        &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp
                        &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp
                        &nbsp&nbsp&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp
                        &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp
                        &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp &nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp
                        &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp
                        &nbsp&nbsp&nbsp&nbsp<br>
                        
                        <a class="a-2" >{{r.date_created}}</a></p>
                        
                </div>
            </li>
            {%endfor%}
            {%if page_obj.has_other_pages%}
            <div class="centre-text">
                <div class="pagination">
                    {%if page_obj.has_previous%}
                    <a class="pa" href="?page={{page_obj.previous_page_number}}">«</a>
                    {%endif%}
                    {%for p in page_obj.paginator.page_range%}
            
            
                    {%if page_obj.number == p%}
                    <a class="pa active" href="?page={{p}}" >{{p}}</a>
                    {%elif p >= page_obj.number|add:-2 and p <= page_obj.number|add:2  %}
                    <a class="pa" href="?page={{p}}" >{{p}}</a>
                    {%endif%}
                    {%endfor%}
                    {%if page_obj.has_next%}
                    <a class="pa" href="?page={{page_obj.next_page_number}}">»</a>
                    {%endif%}
                </div>
            
            </div>
            {%endif%}
        </ul>

    </div>
</div>







{%endblock content%}

{%block script%}
<script type="text/javascript" src="{% static "js/raiting.js" %}">
   
</script>
{%endblock script%}
