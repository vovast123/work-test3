/**
 * 2010-2019 Codezeel
 *
 * NOTICE OF LICENSE
 *
 * Tm feature for prestashop 1.7: compare, wishlist at product list 
 *
 * DISCLAIMER
 *
 *  @Module Name: CZ Feature
 *  @author    codezeel <support@codezeel.com>
 *  @copyright 2010-2019 codezeel
 *  @license   http://www.codezeel.com - prestashop template provider
 */
function createStWishlistModalPopup(){var t="";t+='<div class="modal st-modal st-modal-wishlist fade" tabindex="-1" role="dialog" aria-hidden="true">',t+='<div class="modal-dialog" role="document">',t+='<div class="modal-content">',t+='<div class="modal-header">',t+='<button type="button" class="close" data-dismiss="modal" aria-label="Close">',t+='<span aria-hidden="true">&times;</span>',t+="</button>",t+='<h5 class="modal-title text-xs-center">',t+="</h5>",t+="</div>",t+='<div class="modal-footer">',t+='<button type="button" class="btn btn-secondary" data-dismiss="modal">'+wishlist_cancel_txt+"</button>",t+='<button type="button" class="st-modal-wishlist-bt btn btn-primary">',t+='<span class="st-modal-wishlist-loading cssload-speeding-wheel"></span>',t+='<span class="st-modal-wishlist-bt-text">',t+=wishlist_ok_txt,t+="</span>",t+="</button>",t+="</div>",t+="</div>",t+="</div>",t+="</div>",$("body").append(t)}function StWishlistButtonAction(){$(".st-wishlist-button").hasClass("show-list")?$(".wishlist-item").click((function(){if(!$(".wishlist-item.active-add").length){var t=$(this).data("id-product"),s=$(this).data("id-wishlist"),i=$(this).data("id-product-attribute"),a=wishlist_remove+'. <a href="'+wishlist_url+'" target="_blank"><strong>'+wishlist_viewwishlist+".</strong></a>",l=wishlist_add+'. <a href="'+wishlist_url+'" target="_blank"><strong>'+wishlist_viewwishlist+".</strong></a>";if($(this).addClass("active-add"),!isLogged)return $(".st-modal-wishlist .modal-title").html(wishlist_loggin_required),$(".st-modal-wishlist").modal("show"),!1;var e=$(this),o=e.parents(".st-wishlist-button-dropdown");o.find(".st-wishlist-button").addClass("active"),o.find(".st-wishlist-bt-loading").css({display:"block"}),$(this).hasClass("added")||$(this).hasClass("delete")?$.ajax({type:"POST",headers:{"cache-control":"no-cache"},url:wishlist_url,async:!0,cache:!1,data:{ajax:1,action:"remove",id_product:t,id_wishlist:s,id_product_attribute:i,quantity:1},success:function(i){var l=$.parseJSON(i);if(l.errors.length)$(".st-modal-wishlist .modal-title").html(l.errors),$(".st-modal-wishlist").modal("show");else{if($(".ap-btn-wishlist .ap-total-wishlist").length){var d=parseInt($(".ap-btn-wishlist .ap-total-wishlist").data("wishlist-total"))-1;$(".ap-btn-wishlist .ap-total-wishlist").data("wishlist-total",d),$(".ap-btn-wishlist .ap-total-wishlist").text(d)}e.hasClass("delete")?$("td.product-"+t).fadeOut((function(){$(this).remove()})):($(".st-modal-wishlist .modal-title").html(a),$(".st-modal-wishlist").modal("show"),$(".wishlist-item[data-id-wishlist="+s+"][data-id-product="+t+"]").removeClass("added"),$(".wishlist-item[data-id-wishlist="+s+"][data-id-product="+t+"]").attr("title",buttonwishlist_title_add),$(".wishlist-item[data-id-product="+t+"]").hasClass("added")||$(".st-wishlist-button[data-id-product="+t+"]").removeClass("added"),o.find(".st-wishlist-bt-loading").hide(),o.find(".st-wishlist-button").removeClass("active"))}},error:function(t,s,i){alert("TECHNICAL ERROR: \n\nDetails:\nError thrown: "+t+"\nText status: "+s)}}):$.ajax({type:"POST",headers:{"cache-control":"no-cache"},url:wishlist_url,async:!0,cache:!1,data:{ajax:1,action:"add",id_product:t,id_wishlist:s,id_product_attribute:i,quantity:1},success:function(i){var a=$.parseJSON(i);if(a.errors.length)$(".st-modal-wishlist .modal-title").html(a.errors),$(".st-modal-wishlist").modal("show");else{if($(".st-modal-wishlist .modal-title").html(l),$(".st-modal-wishlist").modal("show"),$(".ap-btn-wishlist .ap-total-wishlist").length){var e=parseInt($(".ap-btn-wishlist .ap-total-wishlist").data("wishlist-total"))+1;$(".ap-btn-wishlist .ap-total-wishlist").data("wishlist-total",e),$(".ap-btn-wishlist .ap-total-wishlist").text(e)}$(".wishlist-item[data-id-wishlist="+s+"][data-id-product="+t+"]").addClass("added"),$(".wishlist-item[data-id-wishlist="+s+"][data-id-product="+t+"]").attr("title",buttonwishlist_title_remove),$(".st-wishlist-button[data-id-product="+t+"]").hasClass("added")||$(".st-wishlist-button[data-id-product="+t+"]").addClass("added"),o.find(".st-wishlist-bt-loading").hide(),o.find(".st-wishlist-button").removeClass("active")}},error:function(t,s,i){alert("TECHNICAL ERROR: \n\nDetails:\nError thrown: "+t+"\nText status: "+s)}})}return!1})):$(".st-wishlist-button").click((function(){if(!$(".st-wishlist-button.active").length){var t=$(this).data("id-product"),s=$(this).data("id-wishlist"),i=$(this).data("id-product-attribute"),a=wishlist_remove+'. <a href="'+wishlist_url+'" target="_blank"><strong>'+wishlist_viewwishlist+".</strong></a>",l=wishlist_add+'. <a href="'+wishlist_url+'" target="_blank"><strong>'+wishlist_viewwishlist+".</strong></a>";if($(this).addClass("active"),!isLogged)return $(".st-modal-wishlist .modal-title").html(wishlist_loggin_required),$(".st-modal-wishlist").modal("show"),!1;var e=$(this);e.find(".st-wishlist-bt-loading").css({display:"block"}),$(this).hasClass("added")||$(this).hasClass("delete")?$.ajax({type:"POST",headers:{"cache-control":"no-cache"},url:wishlist_url,async:!0,cache:!1,data:{ajax:1,action:"remove",id_product:t,id_wishlist:s,id_product_attribute:i,quantity:1},success:function(s){var i=$.parseJSON(s);if(i.errors.length)$(".st-modal-wishlist .modal-title").html(i.errors),$(".st-modal-wishlist").modal("show");else{if($(".ap-btn-wishlist .ap-total-wishlist").length){var l=parseInt($(".ap-btn-wishlist .ap-total-wishlist").data("wishlist-total"))-1;$(".ap-btn-wishlist .ap-total-wishlist").data("wishlist-total",l),$(".ap-btn-wishlist .ap-total-wishlist").text(l)}e.hasClass("delete")?$("td.product-"+t).fadeOut((function(){$(this).remove()})):($(".st-modal-wishlist .modal-title").html(a),$(".st-modal-wishlist").modal("show"),$(".st-wishlist-button[data-id-product="+t+"]").removeClass("added"),$(".st-wishlist-button[data-id-product="+t+"]").attr("title",buttonwishlist_title_add),e.find(".st-wishlist-bt-loading").hide())}},error:function(t,s,i){alert("TECHNICAL ERROR: \n\nDetails:\nError thrown: "+t+"\nText status: "+s)}}):$.ajax({type:"POST",headers:{"cache-control":"no-cache"},url:wishlist_url,async:!0,cache:!1,data:{ajax:1,action:"add",id_product:t,id_wishlist:s,id_product_attribute:i,quantity:1},success:function(i){var a=$.parseJSON(i);if(a.errors.length)$(".st-modal-wishlist .modal-title").html(a.errors),$(".st-modal-wishlist").modal("show");else{if($(".st-modal-wishlist .modal-title").html(l),$(".st-modal-wishlist").modal("show"),$(".ap-btn-wishlist .ap-total-wishlist").length){var o=parseInt($(".ap-btn-wishlist .ap-total-wishlist").data("wishlist-total"))+1;$(".ap-btn-wishlist .ap-total-wishlist").data("wishlist-total",o),$(".ap-btn-wishlist .ap-total-wishlist").text(o)}""==s&&$(".st-wishlist-button").data("id-wishlist",a.result.id_wishlist),$(".st-wishlist-button[data-id-product="+t+"]").addClass("added"),$(".st-wishlist-button[data-id-product="+t+"]").attr("title",buttonwishlist_title_remove),e.find(".st-wishlist-bt-loading").hide()}},error:function(t,s,i){alert("TECHNICAL ERROR: \n\nDetails:\nError thrown: "+t+"\nText status: "+s)}})}return!1}))}function StListWishlistAction(){$(".delete-wishlist").click((function(){return $(this).hasClass("active")||($(this).addClass("active"),$(this).parents("tr").addClass("active"),$(".list-wishlist tr.active .default-wishlist").is(":checked")?($(".st-modal-wishlist .modal-title").html(wishlist_del_default_txt),$(".st-modal-wishlist").removeClass("enable-action").modal("show")):($(".st-modal-wishlist .modal-title").html(wishlist_confirm_del_txt),$(".st-modal-wishlist").addClass("enable-action").modal("show"))),!1})),$(".st-modal-wishlist-bt").click((function(){if(!$(this).hasClass("active")){$(this).addClass("active");var t=$(this),s=$(".delete-wishlist.active").data("id-wishlist");$(".st-modal-wishlist-bt-text").hide(),$(".st-modal-wishlist-loading").css({display:"block"}),$.ajax({type:"POST",headers:{"cache-control":"no-cache"},url:wishlist_url,async:!0,cache:!1,data:{ajax:1,action:"delete-wishlist",id_wishlist:s},success:function(s){var i=$.parseJSON(s);if(i.errors.length)$(".st-modal-wishlist .modal-title").html(i.errors),$(".st-modal-wishlist").removeClass("enable-action").modal("show");else{var a=$(".list-wishlist tr.active");$(".st-modal-wishlist").modal("hide"),a.fadeOut((function(){$(this).hasClass("show")?$(".st-wishlist-product").fadeOut().html(""):$(".list-wishlist tr.show .view-wishlist-product").trigger("click"),$(this).remove()}))}$(".st-modal-wishlist-loading").hide(),$(".st-modal-wishlist-bt-text").show(),t.removeClass("active")},error:function(t,s,i){alert("TECHNICAL ERROR: \n\nDetails:\nError thrown: "+t+"\nText status: "+s)}})}})),$(".default-wishlist").click((function(){if($(this).is(":checked")&&!$(".default-wishlist.active").length){$(this).addClass("active");var t=$(this),s=$(".default-wishlist.active").data("id-wishlist");$.ajax({type:"POST",headers:{"cache-control":"no-cache"},url:wishlist_url,async:!0,cache:!1,data:{ajax:1,action:"default-wishlist",id_wishlist:s},success:function(s){var i=$.parseJSON(s);i.errors.length?($(".st-modal-wishlist .modal-title").html(i.errors),$(".st-modal-wishlist").removeClass("enable-action").modal("show")):($(".default-wishlist:checked").removeAttr("checked"),t.prop("checked",!0)),t.removeClass("active")},error:function(t,s,i){alert("TECHNICAL ERROR: \n\nDetails:\nError thrown: "+t+"\nText status: "+s)}})}return!1})),$(".view-wishlist-product").click((function(){if(!$(".view-wishlist-product.active").length){$(this).addClass("active"),$(this).next(".st-view-wishlist-product-loading").show(),$(".list-wishlist tr.show").removeClass("show"),$(this).parents("tr").addClass("show");var t=$(this),s=$(this).data("id-wishlist");$.ajax({type:"POST",headers:{"cache-control":"no-cache"},url:wishlist_url,async:!0,cache:!1,data:{ajax:1,action:"show-wishlist-product",id_wishlist:s},success:function(i){var a=$.parseJSON(i);a.errors.length?($(".st-modal-wishlist .modal-title").html(a.errors),$(".st-modal-wishlist").removeClass("enable-action").modal("show")):($(".st-wishlist-product").hide(),$(".st-wishlist-product").html(a.result.html).fadeIn(),a.result.show_send_wishlist?($(".send-wishlist").fadeIn(),$(".leo-modal-send-wishlist").length?$(".leo-modal-reset-send-wishlist-bt").trigger("click"):(createStSendWishlistModalPopup(),StListWishlistProductModalAction()),StListWishlistProductAction()):$(".send-wishlist").hide(),refeshWishlist(s)),t.removeClass("active"),t.next(".st-view-wishlist-product-loading").hide()},error:function(t,s,i){alert("TECHNICAL ERROR: \n\nDetails:\nError thrown: "+t+"\nText status: "+s)}})}return!1}))}function StListWishlistProductModalAction(){$(".st-send-wishlist-button").click((function(){var t=$(".list-wishlist tr.show .view-wishlist-product").data("name-wishlist");return $(".leo-modal-send-wishlist .modal-title").html(wishlist_send_wishlist_txt+' "'+t+'"'),$(".leo-modal-send-wishlist").modal("show"),!1})),$(".leo-modal-send-wishlist").submit((function(){if($(".leo-fake-send-wishlist-button").hasClass("validate-ok"))return!1})),$(".leo-modal-send-wishlist-bt").click((function(){if(!$(this).hasClass("active")){var t=!0,s=[];$(this).addClass("active");var i=$(this);if($(".leo-modal-reset-send-wishlist-bt").fadeOut(),$(".wishlist_email").each((function(i,a){""===$(this).val()||$(this).parents(".form-group").hasClass("has-success")||$(this).parents(".form-group").hasClass("has-warning")||(validateEmail($(this).val())?($(this).parents(".form-group").removeClass("leo-has-error"),s.push(i)):($(this).parents(".form-group").addClass("leo-has-error"),t=!1))})),t){if(0==s.length)$(".wishlist_email").each((function(t,s){if(""==$(this).val())return $(this).parents(".form-group").addClass("leo-has-error"),$(this).attr("required",""),!1})),i.removeClass("active"),$(".leo-modal-reset-send-wishlist-bt").fadeIn();else{$(".leo-fake-send-wishlist-button").addClass("validate-ok");var a=$(".list-wishlist tr.show .view-wishlist-product").data("id-wishlist");$(".leo-modal-send-wishlist-bt-text").hide(),$(".leo-modal-send-wishlist-loading").css({display:"block"}),$.each(s,(function(t,s){var i=s+1,l=$("#wishlist_email_"+i).val(),e=$("#wishlist_email_"+i).parents(".form-group");e.find(".wishlist_email_status_loading").show(),$.ajax({type:"POST",headers:{"cache-control":"no-cache"},url:wishlist_url,async:!0,cache:!1,data:{ajax:1,action:"send-wishlist",id_wishlist:a,email:l},success:function(t){e.find(".wishlist_email_status_loading").hide(),$.parseJSON(t).errors.length?e.addClass("has-warning").find(".send_wishlist_error").fadeIn():e.addClass("has-success").find(".send_wishlist_success").fadeIn()},error:function(t,s,i){alert("TECHNICAL ERROR: \n\nDetails:\nError thrown: "+t+"\nText status: "+s)}})})),$(document).ajaxStop((function(){$(".leo-modal-send-wishlist-loading").hide(),$(".leo-modal-send-wishlist-bt-text").show(),$(".leo-fake-send-wishlist-button").removeClass("validate-ok"),i.removeClass("active"),$(".leo-modal-reset-send-wishlist-bt").fadeIn()}))}$(".form-send-wishlist .form-group.leo-has-error").length&&$(".leo-fake-send-wishlist-button").trigger("click")}else i.removeClass("active"),$(".leo-modal-reset-send-wishlist-bt").fadeIn(),$(".leo-fake-send-wishlist-button").trigger("click")}})),$(".leo-modal-reset-send-wishlist-bt").click((function(){$(".wishlist_email").val("").removeAttr("required"),$(".send_wishlist_form_content .form-group").removeClass("leo-has-error has-success has-warning"),$(".wishlist_email_status_loading").fadeOut(),$(".send_wishlist_msg").fadeOut()}))}function StListWishlistProductAction(){$(".st-wishlist-button-delete").click((function(){if(!$(this).hasClass("active")){$(this).addClass("active");var t=$(this),s=t.parents(".st-wishlist-product"),i=$(this).data("id-wishlist-product"),a=$(this).data("id-wishlist");$.ajax({type:"POST",headers:{"cache-control":"no-cache"},url:wishlist_url,async:!0,cache:!1,data:{ajax:1,action:"delete-wishlist-product",id_wishlist:a,id_wishlist_product:i},success:function(i){var l=$.parseJSON(i);l.errors.length?($(".st-modal-wishlist .modal-title").html(l.errors),$(".st-modal-wishlist").removeClass("enable-action").modal("show")):(t.parents(".st-wishlistproduct-item").fadeOut((function(){$(this).remove(),s.find(".st-wishlistproduct-item").length||($(".send-wishlist").hide(),$(".list-wishlist tr.show .view-wishlist-product").trigger("click"))})),refeshWishlist(a)),t.removeClass("active")},error:function(t,s,i){alert("TECHNICAL ERROR: \n\nDetails:\nError thrown: "+t+"\nText status: "+s)}})}return!1})),$(".st-wishlist-product-save-button").click((function(){if(!$(this).hasClass("active")){$(this).addClass("active");var t=$(this),s=$(this).data("id-wishlist-product"),i=$(this).data("id-wishlist"),a=$(".wishlist-product-quantity-"+s).val(),l=$(".wishlist-product-priority-"+s).val();Math.floor(a)==a&&$.isNumeric(a)&&a>0?($(".wishlist-product-quantity-"+s).parents(".form-group").removeClass("has-error"),$.ajax({type:"POST",headers:{"cache-control":"no-cache"},url:wishlist_url,async:!0,cache:!1,data:{ajax:1,action:"update-wishlist-product",id_wishlist:i,id_wishlist_product:s,quantity:a,priority:l},success:function(a){var l=$.parseJSON(a);l.errors.length?($(".st-modal-wishlist .modal-title").html(l.errors),$(".st-modal-wishlist").removeClass("enable-action").modal("show")):($(".st-wishlistproduct-item-"+s).hide(),$(".st-wishlistproduct-item-"+s).fadeIn(),refeshWishlist(i)),t.removeClass("active")},error:function(t,s,i){alert("TECHNICAL ERROR: \n\nDetails:\nError thrown: "+t+"\nText status: "+s)}})):($(".wishlist-product-quantity-"+s).parents(".form-group").addClass("has-error"),$(".st-modal-wishlist .modal-title").html(wishlist_quantity_required),$(".st-modal-wishlist").removeClass("enable-action").modal("show"),t.removeClass("active"))}return!1})),$(".move-wishlist-item").click((function(){if(!$(this).hasClass("active")){$(this).addClass("active");var t=$(this),s=t.parents(".st-wishlist-product"),i=$(this).data("id-wishlist-product"),a=$(this).data("id-product"),l=$(this).data("id-product-attribute"),e=$(".list-wishlist tr.show .view-wishlist-product").data("id-wishlist"),o=$(this).data("id-wishlist"),d=$(".wishlist-product-priority-"+i).val(),h=$(".wishlist-product-quantity-"+i).val();$.ajax({type:"POST",headers:{"cache-control":"no-cache"},url:wishlist_url,async:!0,cache:!1,data:{ajax:1,action:"move-wishlist-product",id_new_wishlist:o,id_wishlist_product:i,id_old_wishlist:e,id_product:a,id_product_attribute:l,quantity:h,priority:d},success:function(i){var a=$.parseJSON(i);a.errors.length?($(".st-modal-wishlist .modal-title").html(a.errors),$(".st-modal-wishlist").removeClass("enable-action").modal("show")):(t.parents(".st-wishlistproduct-item").fadeOut((function(){$(this).remove(),s.find(".st-wishlistproduct-item").length||($(".send-wishlist").hide(),$(".list-wishlist tr.show .view-wishlist-product").trigger("click"))})),refeshWishlist(o),refeshWishlist(e)),t.removeClass("active")},error:function(t,s,i){alert("TECHNICAL ERROR: \n\nDetails:\nError thrown: "+t+"\nText status: "+s)}})}return!1}))}function activeEventModalWishlist(){$(".st-modal-wishlist").on("hide.bs.modal",(function(t){$(".st-wishlist-button.active").length&&$(".st-wishlist-button.active").removeClass("active"),$(".wishlist-item.active-add").length&&$(".wishlist-item.active-add").removeClass("active-add"),$(".default-wishlist.active").removeClass("active"),$(".delete-wishlist.active").removeClass("active"),$(".list-wishlist tr.active").removeClass("active")})),$(".st-modal-wishlist").on("hidden.bs.modal",(function(t){$("body").css("padding-right","")})),$(".st-modal-wishlist").on("show.bs.modal",(function(t){$(".quickview.modal").length&&$(".quickview.modal").modal("hide")}))}function createStSendWishlistModalPopup(){var t="";t+='<div class="modal leo-modal leo-modal-send-wishlist fade" tabindex="-1" role="dialog" aria-hidden="true">',t+='<div class="modal-dialog" role="document">',t+='<div class="modal-content">',t+='<div class="modal-header">',t+='<button type="button" class="close" data-dismiss="modal" aria-label="Close">',t+='<span aria-hidden="true">&times;</span>',t+="</button>",t+='<h5 class="modal-title text-xs-center">',t+="</h5>",t+="</div>",t+='<div class="modal-body">',t+='<div class="send_wishlist_form_content">',t+='<form class="form-send-wishlist" action="#" method="post">';for(var s=1;s<=10;s++)t+='<div class="form-group row">',t+='<label class="col-form-label col-sm-2 text-sm-left" for="wishlist_email_'+s+'">'+wishlist_email_txt+" "+s+"</label>",t+='<div class="wishlist_email_status col-sm-1">',t+='<div class="wishlist_email_status_loading cssload-speeding-wheel">',t+="</div>",t+='<i class="send_wishlist_msg send_wishlist_success material-icons">&#xE876;</i>',t+='<i class="send_wishlist_msg send_wishlist_error material-icons">&#xE033;</i>',t+="</div>",t+='<div class="col-sm-9">',t+='<input class="form-control wishlist_email" id="wishlist_email_'+s+'" name="wishlist_email_'+s+'" type="email">',t+="</div>",t+="</div>";t+='<button class="btn btn-primary form-control-submit leo-fake-send-wishlist-button pull-xs-right" type="submit"></button>',t+="</form>",t+="</div>",t+="</div>",t+='<div class="modal-footer">',t+='<button type="button" class="btn btn-primary leo-modal-reset-send-wishlist-bt">'+wishlist_reset_txt+"</button>",t+='<button type="button" class="btn btn-secondary" data-dismiss="modal">'+wishlist_cancel_txt+"</button>",t+='<button type="button" class="leo-modal-send-wishlist-bt btn btn-primary">',t+='<span class="leo-modal-send-wishlist-loading cssload-speeding-wheel"></span>',t+='<span class="leo-modal-send-wishlist-bt-text">',t+=wishlist_send_txt,t+="</span>",t+="</button>",t+="</div>",t+="</div>",t+="</div>",t+="</div>",$("body").append(t)}function validateEmail(t){return/^[a-z\p{L}0-9!#$%&'*+\/=?^`{}|~_-]+[.a-z\p{L}0-9!#$%&'*+\/=?^`{}|~_-]*@[a-z\p{L}0-9]+[._a-z\p{L}0-9-]*\.[a-z\p{L}0-9]+$/i.test(t)}function refeshWishlist(t){$(".st-view-wishlist-product-loading-"+t).show(),$.ajax({type:"POST",headers:{"cache-control":"no-cache"},url:wishlist_url,async:!0,cache:!1,data:{ajax:1,action:"get-wishlist-info",id_wishlist:t},success:function(s){var i=$.parseJSON(s);i.errors.length?($(".st-modal-wishlist .modal-title").html(i.errors),$(".st-modal-wishlist").removeClass("enable-action").modal("show")):$(".wishlist-numberproduct-"+t).html(i.result.number_product),$(".st-view-wishlist-product-loading-"+t).hide()},error:function(t,s,i){alert("TECHNICAL ERROR: \n\nDetails:\nError thrown: "+t+"\nText status: "+s)}})}$(document).ready((function(){createStWishlistModalPopup(),StWishlistButtonAction(),prestashop.on("updateProductList",(function(){StWishlistButtonAction()})),prestashop.on("clickQuickView",(function(){check_active_wishlist=setInterval((function(){$(".quickview.modal").length&&($(".quickview.modal").on("shown.bs.modal",(function(t){StWishlistButtonAction()})),clearInterval(check_active_wishlist))}),300)})),activeEventModalWishlist(),StListWishlistAction(),$(".st-save-wishlist-bt").click((function(){if(!$(this).hasClass("active")){$(this).addClass("active"),$(".new-wishlist .has-danger .form-control-feedback").html(""),$(".new-wishlist .has-success .form-control-feedback").html("");var t=$.trim($("#wishlist_name").val());if(t){var s=$(this);$("#wishlist_name").parent().removeClass("has-error"),$(".st-save-wishlist-bt-text").hide(),$(".st-save-wishlist-loading").css({display:"block"}),$.ajax({type:"POST",headers:{"cache-control":"no-cache"},url:wishlist_url,async:!0,cache:!1,data:{ajax:1,action:"add-wishlist",name_wishlist:t},success:function(t){var i=$.parseJSON(t);i.errors.length?($(".new-wishlist .has-success .form-control-feedback").html(""),$(".new-wishlist .has-danger .form-control-feedback").html(i.errors).fadeIn()):($(".new-wishlist .has-danger .form-control-feedback").html(""),$(".new-wishlist .has-success .form-control-feedback").html(i.result.message).fadeIn(),setTimeout((function(){$(".new-wishlist .has-success .form-control-feedback").fadeOut()}),3e3),$("#wishlist_name").val(""),$(".list-wishlist table tbody").append(i.result.wishlist),$("html, body").animate({scrollTop:$(".list-wishlist table tr.new").offset().top},500,(function(){$(".list-wishlist table tr.new").removeClass("new")})),StListWishlistAction(),$(".list-wishlist tr.show .view-wishlist-product").trigger("click")),$(".st-save-wishlist-bt-text").show(),$(".st-save-wishlist-loading").hide(),s.removeClass("active")},error:function(t,s,i){alert("TECHNICAL ERROR: \n\nDetails:\nError thrown: "+t+"\nText status: "+s)}})}else $("#wishlist_name").parent().addClass("has-error"),$(this).removeClass("active")}return!1}))}));